namespace: rancher-turtles-system
questions:
- variable: rancherTurtles.features.default
  default: "false"
  description: "Customize install settings"
  label: Customize install settings
  type: boolean
  show_subquestion_if: true
  group: "Rancher Turtles Extra Settings"
  subquestions:
  - variable: cluster-api-operator.cert-manager.enabled
    default: false
    type: boolean
    description: "Flag to enable or disable installation of cert-manager. If set to false then you will need to install cert-manager manually"
    label: "Enable Cert Manager"
  - variable: rancherTurtles.features.cluster-api-operator.cleanup
    default: true
    description: "Specify that the CAPI Operator post-delete cleanup job will be performed"
    type: boolean
    label: Cleanup CAPI Operator installation
    group: "CAPI Operator cleanup settings"
    show_subquestion_if: true
    subquestions:
    - variable: rancherTurtles.features.cluster-api-operator.kubectlImage
      default: "registry.k8s.io/kubernetes/kubectl:v1.30.0"
      description: "Specify the image to use when cleaning up the Cluster API Operator manifests"
      type: string
      label: Cleanup Image
      group: "CAPI Operator cleanup settings"
  - variable: rancherTurtles.features.rancher-webhook.cleanup
    default: true
    description: "Specify that the Rancher embedded cluster api webhooks should be removed"
    type: boolean
    label: Cleanup Rancher Embedded CAPI Webhooks
    group: "Rancher webhook cleanup settings"
    show_subquestion_if: true
    subquestions:
    - variable: rancherTurtles.features.rancher-webhook.kubectlImage
      default: "registry.k8s.io/kubernetes/kubectl:v1.30.0"
      description: "Specify the image to use when cleaning up the webhooks"
      type: string
      label: Webhook Cleanup Image
      group: "Rancher webhook cleanup settings"
  - variable: rancherTurtles.features.rancher-kubeconfigs.label
    default: false
    description: "(Experimental) Specify that the kubeconfigs generated by Rancher should be automatically patched to contain the CAPI expected labels"
    type: boolean
    label: Label Rancher Kubeconfigs
    group: "Rancher Turtles Features Settings"
  - variable: rancherTurtles.features.managementv3-cluster.enabled
    default: true
    description: "Use v3/management cluster manifest for import, instead of v1/provisioning"
    type: boolean
    label: Use management v3 cluster manifest
    group: "Rancher Turtles Features Settings"
  - variable: rancherTurtles.features.managementv3-cluster-migration.enabled
    default: false
    description: "Automatically migrate between provisioning and management clusters on upgrade"
    type: boolean
    label: All imported clusters will use new cluster manifest, replacing old cluster manifest.
    group: "Rancher Turtles Features Settings"
  - variable: cluster-api-operator.cluster-api.rke2.enabled
    default: "true"
    description: "Flag to enable or disable installation of the RKE2 provider for Cluster API. By default this is enabled."
    label: "Enable RKE2 Provider"
    type: boolean
  - variable: rancherTurtles.features.propagate-labels.enabled
    default: false
    description: "(Experimental) Specify that the labels from CAPI should be propagated to Rancher"
    type: boolean
    label: Propagate CAPI Labels
    group: "Rancher Turtles Features Settings"
  - variable: rancherTurtles.features.addon-provider-fleet.enabled
    default: false
    description: "Enable Fleet Addon Provider functionality in Rancher Turtles"
    type: boolean
    label: Seamless integration with Fleet and CAPI
    group: "Rancher Turtles Features Settings"
  - variable: rancherTurtles.features.agent-tls-mode.enabled
    default: false
    description: "If enabled Turtles will use the agent-tls-mode setting to determine CA cert trust mode for importing clusters, otherwise Turtles will use insecure TLS."
    type: boolean
    label: Enable Agent TLS Mode
    group: "Rancher Turtles Features Settings"
